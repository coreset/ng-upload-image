<!-- default progress container -->
<ng-template #defaultProgressTemplate>
    <div class="wrapper">
      <div class="bar"  [style.width]="uploadProgress+'%'"   >{{uploadProgress}}%</div>
   </div>
</ng-template>

<!-- default upload control container -->
<ng-template #defaultControlTemplate>

    <div clas="control">
        <input type="file"  #fileinput name="imageUpload" id="imageUpload"  class="hide" [multiple]="true"  (change)="onSelect($event)"  [attr.title]="''" />
        <label  (click)="onChoose()" (keydown.enter)="onChoose()"  class="button" style="margin-right: 5px; margin-bottom: 5px;">Select files</label>

        <button *ngIf="selectedUrls.length" type='button' class="button" style="margin-right: 5px; margin-bottom: 5px;" (click)="onUpload($event)">Upload</button>
        <button *ngIf="selectedUrls.length" type='button' class="button" style="margin-right: 5px; margin-bottom: 5px;" (click)="onClear()">Clear</button>
    </div>    

</ng-template>

<!-- default upload preview container -->
<ng-template #defaultPreviewTemplate>

    <div class="pre-view">
        <div class='img-box'  *ngFor='let url of selectedUrls'>
            <div class="dismiss" *ngIf="!uploadProgress" (click)="onDismiss($event)">&#10005;</div>
            <img  class='image' [src]="url"  [style.width.px]="preViewSize" >
        </div>
    </div>

</ng-template>



<div class="container" >

    <div class="progress" *ngIf="uploadProgress"  style="margin: 5px 0px;" >
        <!-- default progress bar -->
        <ng-container  [ngTemplateOutlet]="customProgressTemplate ? customProgressTemplate : defaultProgressTemplate "> </ng-container> 
    </div>

    <!-- default upload control -->
    <ng-container  [ngTemplateOutlet]="customControlTemplate ? customControlTemplate : defaultControlTemplate "> </ng-container> 

    <!-- default upload preview -->
    <ng-container  [ngTemplateOutlet]="customPreviewTemplate ? customPreviewTemplate : defaultPreviewTemplate "> </ng-container> 

</div>